(function(){"use strict";angular.module("dexApp",["ngResource","ngRoute","ngSanitize","ui.bootstrap"]).config(function(a){return a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/pokemon/:pokemonID",{templateUrl:"views/pokemon/show.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}),$(function(){return setTimeout(function(){window.scrollTo(0,1)},0)})}).call(this),function(){angular.module("dexApp").factory("Server",function(a,b){return{get:function(c){var d;return d=b.defer(),a.jsonp(c).success(function(a){d.resolve(a)}),d.promise}}})}.call(this),function(){angular.module("dexApp").service("pokemonService",function(a){var b,c,d;return d={},c="http://pokeapi.co/api/v1/",b="?callback=JSON_CALLBACK",d.getPokedex=function(){return a.get(c+"pokedex/1/"+b)},d.getPokemon=function(d){return a.get(c+"pokemon/"+d+b)},d.getPokemonImage=function(d){var e;return e=/\/(\d+)\//g.exec(d)[1],a.get(c+"sprite/"+e+b)},d.getPokemonDescription=function(d){var e;return e=/\/(\d+)\//g.exec(d)[1],a.get(c+"description/"+e+b)},d.parsePokedexData=function(a){var b,c,d,e,f;for(c=[],b=0;b<a.length;)e=a[b],f=/\/(\d+)\//g.exec(e.resource_uri)[1],d={name:e.name,remote_id:parseInt(f),url:"#/pokemon/"+parseInt(f)},c.push(d),b++;return c.sort(function(a,b){return a.name>b.name?1:a.name<b.name?-1:0}),c},d})}.call(this),function(){"use strict";angular.module("dexApp").controller("MainCtrl",function(a,b,c,d,e){var f,g,h,i,j;g=function(){var c;c=d.getPokedex(),c.then(function(c){var e;a.pokedex=d.parsePokedexData(c.pokemon),e=b.pokemonID?parseInt(b.pokemonID):1,e>0&&f(e)})},f=function(b){var c;c=d.getPokemon(b),c.then(function(b){var c;c=b,a.pokemon=c,j(c,a.pokemon),i(c,a.pokemon),h(c,a.pokemon),a.pokemon.total=a.pokemon.hp+a.pokemon.attack+a.pokemon.defense+a.pokemon.sp_atk+a.pokemon.sp_def+a.pokemon.speed})},j=function(a,b){var c;b.image_url="images/sprites/"+a.name.toLowerCase()+".gif",b.image_url="images/pokemon-placeholder.png",_.isEmpty(a.sprites)||(c=d.getPokemonImage(a.sprites[0].resource_uri),c.then(function(a){b.image_url="http://pokeapi.co"+a.image}))},i=function(a,b){var c,e;return b.description="",_.isEmpty(a.descriptions)?void 0:(e=_.last(a.descriptions),c=d.getPokemonDescription(e.resource_uri),c.then(function(a){b.description=a.description}))},h=function(a,b){var c,d,e,f,g;if(d=[],!_.isEmpty(a.evolutions))for(g=a.evolutions,e=0,f=g.length;f>e;e++){switch(c=g[e],c.description="Evolves to <strong>"+c.to+"</strong>",c.method){case"level_up":c.description+=" starting at <strong>Level "+c.level+"</strong>";break;case"trade":c.description+=" when <strong>Traded</strong>";break;case"stone":c.description+=" when is exposed to a <strong>Stone</strong>";break;case"other":c.description+=" by <strong>"+c.detail+"</strong>"}d.push(c)}b.evolutions=d},a.$watch("search",function(b){var d,g,h;h&&c.cancel(h),d=e(a.pokedex,b),d&&(g=d[0].remote_id,h=c(function(){b===a.search&&(a.pokemon=f(g))},250))}),g()})}.call(this);